# collectors.yml

# html scrappers
scrapper:
  - name: TakeIchiConvoyStats
    interval: Y1 # see model.py for available intervals
    resource_type: value # value (inplace document), series, timeseries
    target: https://en.wikipedia.org/wiki/Take_Ichi_convoy
    data:
      - name: Dates
        type: string
        selector: //*[@id="mw-content-text"]/div[1]/div[2]/div/table/tbody/tr[4]/td/table/tbody/tr[1]/td # css selector or xpath
      - name: AmericanTroups
        type: string
        selector: //*[@id="mw-content-text"]/div[1]/div[2]/div/table/tbody/tr[10]/td[1]
      - name: JapaneseTroups
        type: string
        selector: //*[@id="mw-content-text"]/div[1]/div[2]/div/table/tbody/tr[10]/td[2]
      - name: AmericanCasualties
        type: string
        selector: //*[@id="mw-content-text"]/div[1]/div[2]/div/table/tbody/tr[12]/td[1]
      - name: JapaneseCasualties
        type: string
        selector: //*[@id="mw-content-text"]/div[1]/div[2]/div/table/tbody/tr[12]/td[2]

# rest api collectors
api:
  - name: CoingeckoPriceFeeds
    interval: m1
    resource_type: timeseries
    target: https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,staked-ether,binancecoin,avalanche-2,wrapped-bitcoin,ripple,solana,the-open-network,polkadot,cardano,bitcoin-cash,matic-network,aptos,first-digital-usd,cosmos,mantle,optimism,arbitrum,sui,arweave,monero,ethena-usde,fantom,celestia,thorchain,coredaoorg,sei-network,usd-coin,tether,frax,dai,manta-network,celo,dogecoin,pepe,shiba-inu,dogwifcoin&vs_currencies=usd
    data:
      - name: USDCUSD
        type: float64
        selector: .usd-coin.usd
      - name: BTCUSDC
        type: float64
        selector: .bitcoin.usd
        transformers: ["{self} * {USDCUSD}", "round2"]
      - name: ETHUSDC
        type: float64
        selector: .ethereum.usd
        transformers: ["{self} * {USDCUSD}", "round2"]
      - name: DOGEUSDC
        type: float64
        selector: .dogecoin.usd
        transformers: ["{self} * {USDCUSD}", "round4"]
      - name: PEPEUSDC
        type: float64
        selector: .pepe.usd
        transformers: ["{self} * {USDCUSD}", "round10"]

# evm collectors
evm:
  - name: DummyEvmContractCollector
    interval: m15
    resource_type: timeseries
    data:
      - name: EvmValue1
        type: float
        target: "137:0x1234567890123456789012345678901234567890" # chainId:address
        selector: balanceOf(address) # function signature
        parameters: ["0x1234567890123456789012345678901234567890"] # function parameters
        transformers: ["{self::median('W1')}"]
      - name: EvmValue2
        type: float
        target: "137:0x1234567890123456789012345678901234567890" # chainId:address
        selector: totalSupply()
        parameters: []
      - name: EvmMedian1
        type: float
        transformers: ["{EvmValue1::median('W1')}"] # no need for selector if the value is computed

# other collectors
solana: []
ton: []
cosmos: []
sui: []
sei: []
aptos: []
